(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{228:function(t,s,e){t.exports=e.p+"assets/img/user-input-events.0cf7135f.png"},229:function(t,s,e){t.exports=e.p+"assets/img/user-input-events-placeholder.ada87a91.png"},237:function(t,s,e){"use strict";e.r(s);var n=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"handling-input-events"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#handling-input-events","aria-hidden":"true"}},[this._v("#")]),this._v(" Handling Input Events")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("Viber Bots")]),this._v(" "),s("p",[this._v("Input events are used by Viber bots to map various system events to a block.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Navigate to "),s("code",[this._v("Settings -> Events map")]),this._v(" section.  Map an event to an existing block by selecting from the list as shown below:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:e(228),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("You can map the following events to a block in a "),s("strong",[this._v("Viber")]),this._v(" bot:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Comments")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("conversation_started")]),t._v(" "),e("td",[t._v("event")]),t._v(" "),e("td",[t._v("when a user follows a Viber bot")])]),t._v(" "),e("tr",[e("td",[t._v("subscribed")]),t._v(" "),e("td",[t._v("event")]),t._v(" "),e("td",[t._v("Triggered when user sends first message after "),e("code",[t._v("conversation_started")])])]),t._v(" "),e("tr",[e("td",[t._v("unsubscribed")]),t._v(" "),e("td",[t._v("event")]),t._v(" "),e("td",[t._v("When a user leaves the bot. Use this to remove user info, data, etc.")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:e(229),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Event types can be combined with "),s("code",[this._v("JSON API")]),this._v(", "),s("code",[this._v("go-to")]),this._v(" or "),s("code",[this._v("script")]),this._v(" blocks to perform various operations from verifying document to serve location-aware contents to your subscribers.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{attrs:{class:"token comment"}},[t._v("//script block")]),t._v("\nexports"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function-variable function"}},[t._v("handler")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("log")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("args"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("image"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token function"}},[t._v("done")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],a=e(0),o=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("Link an input event (e.g. User downloads a sticker) to a block. Use this capability to handle and map an user event to a block.")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),e("p",[t._v("For example, if a subscriber sends an image on a facebook bot, it can set as an image place holder in the following way:")]),t._v(" "),t._m(6),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("A "),e("a",{attrs:{href:"http://mustache.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mustache"),e("OutboundLink")],1),t._v(" template is a string that contains any number of mustache tags. Smartloop adopts this most popular template format to process variables. Tags are indicated by the double mustaches that surround them. Here, in the above example triple parenthesis tells the compiler not to encode the url.")])]),t._v(" "),t._m(7),t._v(" "),t._m(8)])},n,!1,null,null,null);o.options.__file="user-input-events.md";s.default=o.exports}}]);