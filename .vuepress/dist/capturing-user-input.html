<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Capture and Validate User Input | Smartloop</title>
    <meta name="description" content="A Conversational AI Platform to Automate Marketing">
    
    
    <link rel="preload" href="/assets/css/0.styles.33d1fe29.css" as="style"><link rel="preload" href="/assets/js/app.51aa6a86.js" as="script"><link rel="preload" href="/assets/js/4.428116d6.js" as="script"><link rel="prefetch" href="/assets/js/10.226bbf8f.js"><link rel="prefetch" href="/assets/js/11.870f3d7b.js"><link rel="prefetch" href="/assets/js/12.7965e71f.js"><link rel="prefetch" href="/assets/js/13.127d8f9b.js"><link rel="prefetch" href="/assets/js/14.1f12beb9.js"><link rel="prefetch" href="/assets/js/15.24c6e553.js"><link rel="prefetch" href="/assets/js/16.6e002b13.js"><link rel="prefetch" href="/assets/js/17.672267b5.js"><link rel="prefetch" href="/assets/js/18.9bc7c9a7.js"><link rel="prefetch" href="/assets/js/19.bafd0c0f.js"><link rel="prefetch" href="/assets/js/2.832c4001.js"><link rel="prefetch" href="/assets/js/20.33e2976e.js"><link rel="prefetch" href="/assets/js/21.4921a9ba.js"><link rel="prefetch" href="/assets/js/22.68b68446.js"><link rel="prefetch" href="/assets/js/23.733d366a.js"><link rel="prefetch" href="/assets/js/24.397febe6.js"><link rel="prefetch" href="/assets/js/25.7d450aea.js"><link rel="prefetch" href="/assets/js/3.d4e50b29.js"><link rel="prefetch" href="/assets/js/5.fd6bb2b4.js"><link rel="prefetch" href="/assets/js/6.f813374b.js"><link rel="prefetch" href="/assets/js/7.73b7038b.js"><link rel="prefetch" href="/assets/js/8.8819f734.js"><link rel="prefetch" href="/assets/js/9.2945dc6c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.33d1fe29.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Smartloop</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dashboard.smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.recime.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dashboard.smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.recime.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/basic-concepts.html" class="sidebar-link">Basic Concepts</a></li><li><a href="/how-to-entities.html" class="sidebar-link">How to use Entities?</a></li><li><a href="/capturing-user-input.html" class="active sidebar-link">Capture and Validate User Input</a></li><li><a href="/redirect-using-go-to.html" class="sidebar-link">Redirect using Go-to</a></li><li><a href="/json-api.html" class="sidebar-link">Integrations using JSON API</a></li><li><a href="/sending-email-notification.html" class="sidebar-link">Send Email Notification</a></li><li><a href="/campaign.html" class="sidebar-link">Creating a Drip Campaign</a></li><li><a href="/broadcasting.html" class="sidebar-link">Broadcasting</a></li><li><a href="/live-chat.html" class="sidebar-link">Live Chat</a></li><li><a href="/configure-website-bot.html" class="sidebar-link">WebChat Module</a></li><li><a href="/user-attributes.html" class="sidebar-link">User Attributes</a></li><li><a href="/viber-events.html" class="sidebar-link">Handling Viber Events</a></li><li><a href="/developer-features.html" class="sidebar-link">Writing Custom Script</a></li><li><a href="/collecting-user-data.html" class="sidebar-link">Building User Profile for a Website Bot</a></li><li><a href="/templates.html" class="sidebar-link">How to Create Templates?</a></li><li><a href="/capabilities.html" class="sidebar-link">Capabilities</a></li><li><a href="/resources.html" class="sidebar-link">Resources</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="capture-and-validate-user-input"><a href="#capture-and-validate-user-input" aria-hidden="true" class="header-anchor">#</a> Capture and Validate User Input</h1> <p>Use user input plugin to capture data in your bot.</p> <p>The following types are supported for an user input:</p> <ul><li>Text</li> <li>Number</li> <li>Date</li> <li>Image</li> <li>File (Facebook)</li> <li>Location</li> <li>Phone</li></ul> <p>It is possible to capture user input and set it as a user attribute to create conditional flows.</p> <p>The plugin can be used to validate a specific type, for example we are validating an email of a subscriber in the following way:</p> <p><img src="/assets/img/capture-email.e500f5d0.png" alt></p> <p>It is possible to capture input not only as a text but as a composite type (e.g. image), it possible to ask the user to upload an image and then validate and capture it in an attribute. We will have to select the type as an image and specify an attribute to capture the image:</p> <p><img src="/assets/img/capture-image.7c107d94.png" alt></p> <p>Composite types can be accessed in the form of <code>args.type.property</code>, below is a list of composite types and their properties:</p> <table><thead><tr><th>Type</th> <th>Property</th> <th>-</th></tr></thead> <tbody><tr><td>image</td> <td>url</td> <td>url of the image</td></tr> <tr><td>file</td> <td>url</td> <td>url of the file</td></tr> <tr><td>location</td> <td>lat, long</td> <td>latitude and longitude of the location</td></tr></tbody></table> <p>Here in this case, we can use the image property in an image element in the following way:</p> <p><img src="/assets/img/captured-image-property.11a73317.png" alt></p> <p>Note the syntax here with triple braces, In this case, the template engine won't encode the url which is already done by the underlying platform (e.g. Facebook, Viber). Otherwise, it will create an invalid url.</p> <p>It is also possible to upload multiple files or images. Here in the example above, <code>image.0.url</code> is the first image at zero index. If you upload two images at the same time, you can access them like <code>image.0.url</code>, <code>image.1.url</code> and so on. In case, you want to iterate through all the images; you can do so by writing a custom a script or using the template iterator in the following way:</p> <div class="language-html extra-class"><pre class="language-html"><code>{{#image}}
 {{{url}}}
{{/image}}
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>A <a href="http://mustache.github.io/" target="_blank" rel="noopener noreferrer">mustache<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> template is a string that contains any number of mustache tags. Smartloop adopts this most popular template format to process variables. Tags are indicated by the double mustaches that surround them. Here, in the above example triple parenthesis tells the compiler not to encode the url.</p> <p>Follow the <a href="https://gist.github.com/mehfuzh/b18d513b3dc1f2f62d4a10b9bbd33fe1" target="_blank" rel="noopener noreferrer">Mustache Cheatsheet<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> gist to get a better understanding.</p></div> <p>It is also possible to capture user input in the form of a quick reply, from the quick reply content menu we select the following:</p> <ul><li>Block</li> <li>User Input</li></ul> <p>Select &quot;User Input&quot; to capture user input in the form of a quick reply:</p> <p><img src="/assets/img/user-input-quick-reply-dialog.9c456034.png" alt></p> <p>Also, we can use pattern validation to define the scope of an input using a regular expression:</p> <p><img src="/assets/img/user-input-reply.2763dae4.png" alt></p> <p>User input is stored as an attribute and you can print it inside a text element or use in it a different plugin as an input in the following way:</p> <p><img src="/assets/img/user-input-confirm.846c1e22.png" alt>.</p> <p>Attributes are accessed and defined using the double braces syntax. This is a standard template syntax for working with dynamic values.</p> <p>In a more advanced scenario, you can reference the captured user input from a script block as shown below:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> done<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>vars<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>The script block is for implementing custom workflows and designed towards developers.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/16/2019, 2:12:45 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/how-to-entities.html" class="prev">
          How to use Entities?
        </a></span> <span class="next"><a href="/redirect-using-go-to.html">
          Redirect using Go-to
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/4.428116d6.js" defer></script><script src="/assets/js/app.51aa6a86.js" defer></script>
  </body>
</html>
