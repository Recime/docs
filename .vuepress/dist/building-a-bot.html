<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Building a Bot | Documentation, Tutorials and Help Resources | Smartloop</title>
    <meta name="description" content="Grow Your Business with AI-Powered Conversations">
    
    
    <link rel="preload" href="/assets/css/10.styles.e96a352e.css" as="style"><link rel="preload" href="/assets/js/app.b6aafca7.js" as="script"><link rel="preload" href="/assets/js/7.73bc781b.js" as="script"><link rel="prefetch" href="/assets/js/0.c15a6765.js"><link rel="prefetch" href="/assets/js/1.ba75c142.js"><link rel="prefetch" href="/assets/js/2.080c598d.js"><link rel="prefetch" href="/assets/js/3.9f0589e4.js"><link rel="prefetch" href="/assets/js/4.ba89aa3a.js"><link rel="prefetch" href="/assets/js/5.738957cb.js"><link rel="prefetch" href="/assets/js/6.453a6f0e.js"><link rel="prefetch" href="/assets/js/8.22201ba6.js"><link rel="prefetch" href="/assets/js/9.dedd2524.js">
    <link rel="stylesheet" href="/assets/css/10.styles.e96a352e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Documentation, Tutorials and Help Resources | Smartloop
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://dashboard.smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.recime.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://dashboard.smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.recime.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><a href="/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/chatbot-concepts.html" class="sidebar-link">Chatbot Concepts</a></li><li><a href="/building-a-bot.html" class="active sidebar-link">Building a Bot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/building-a-bot.html#working-with-blocks" class="sidebar-link">Working with Blocks</a></li><li class="sidebar-sub-header"><a href="/building-a-bot.html#creating-responses" class="sidebar-link">Creating Responses</a></li><li class="sidebar-sub-header"><a href="/building-a-bot.html#working-with-entities" class="sidebar-link">Working with Entities</a></li></ul></li><li><a href="/publish.html" class="sidebar-link">Publishing a Bot</a></li><li><a href="/broadcasting.html" class="sidebar-link">Broadcasting (Push Notifications)</a></li><li><a href="/monitor.html" class="sidebar-link">Monitoring a Bot</a></li><li><a href="/developer-features.html" class="sidebar-link">Developer Features</a></li><li><a href="/resources.html" class="sidebar-link">Resources</a></li></ul></div><div class="page"><div class="content"><h1 id="building-a-bot"><a href="#building-a-bot" aria-hidden="true" class="header-anchor">#</a> Building a Bot</h1><h2 id="working-with-blocks"><a href="#working-with-blocks" aria-hidden="true" class="header-anchor">#</a> Working with Blocks</h2><p>A block contains user-defined messages that are triggered by a user input or an event.</p><p>User input is defined by expressions. Below is an example of expressions:</p><ul><li>Hi there!</li><li>How's the weather in Paris?</li><li>I want to travel from San Francisco to Madrid</li></ul><p>An expression can be grouped into an intent and each intent has responses that will be sent out to the user.
Expressions are context driven which is different from keyword therefore, it does not have to be an exact match.</p><p>Here is an example of a context:</p><p>Here, I can say &quot;What do you mean by a chatbot?&quot; or &quot;What is a chatbot?&quot; and it will still return the correct block since the context is same or intead of &quot;Paris&quot;, I can ask &quot;How's weather in London?&quot;.</p><p><em>Expressions make your bot smart!</em></p><p>An expression can also have entities that can tell the natural language processor (AI) to extract a certain part of the sentence that will let you write custom logic (advanced).</p><p>In short, an block is a box full of expressions and can have responses that are triggered by an user input or an event.</p><h2 id="creating-responses"><a href="#creating-responses" aria-hidden="true" class="header-anchor">#</a> Creating Responses</h2><p>You can use plugins or cards to create responses. Responses can be visual or plugins to create flow or trigger other intents. A typical response can combine the following elements to build a rich user expereince for your bot:</p><ul><li>Text</li><li>Image</li><li>Card</li><li>Gallery</li><li>Generic Template (Facebook)</li><li>Article (WeChat)</li><li>Audio</li><li>Video</li><li>User Input</li><li>Go to Intent</li><li>User Variable</li><li>JSON API</li></ul><p>Using plugins, implement custom logic, capture and validate input, make API requests and overall extend your bot for a richer experience</p><h3 id="user-input"><a href="#user-input" aria-hidden="true" class="header-anchor">#</a> User Input</h3><p>The plugin allows you to capture and validate input from a user. It can be simple text or in the form of an action.</p><p>It supports the following data types:</p><ul><li>Text</li><li>Number</li><li>Date</li></ul><p>It is possible to capture an user input and set it as a user variable to use throughout the scope of the session to take the user to various flows.</p><p>Here in the example, we are validating an email in the following way:</p><p><img src="/assets/img/user-input-email.19bd4435.png" alt></p><p>It is possible to capture input not only  for &quot;text&quot; input but also for actions  (e.q, quick replies) as shown below:
<img src="/assets/img/user-input-quick-reply.f486d739.png" alt></p><p>Here, in addition, we have used a regular expression pattern to ensure that it only accepts <code>blue</code>, <code>red</code> or <code>black</code>.</p><p><img src="/assets/img/user-input-reply.2763dae4.png" alt></p><p>In order to capture quick replies as input, you will have to select &quot;User Input&quot; from the context drop-down and then set the reply as shown below:</p><p><img src="/assets/img/user-input-quick-reply-dialog.9c456034.png" alt></p><p>Captured input is stored as a variable and you can print it inside a text element or use in it a different plugin as an input in the following way:</p><p><img src="/assets/img/user-input-confirm.846c1e22.png" alt></p><p>This variable is also available inside <code>script</code> block and in this scenario, you can retrieve the value of 'color' in the following way:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> done<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>vars<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="go-to-block"><a href="#go-to-block" aria-hidden="true" class="header-anchor">#</a> Go to Block</h3><p>The plugin allows you to design conditional conversation flow. This helps you implement complex flow in your bot that is triggered by a user input or an event.</p><p>Here, in the example, the bot will take the user to a confirm transaction flow based on input. First, ask the user what they want to do next:</p><p><img src="/assets/img/go-to-input.5d3e5687.png" alt></p><p>Next, use <code>user-input</code> plugin to capture the input using a pattern validation with a regular expression:</p><p><img src="/assets/img/go-to-user-input.8a44b317.png" alt></p><p>Finally, send the user to a <code>yes-flow</code> block based on if the user typed/pressed (<code>facebook</code> quick-reply) &quot;yes&quot; in the following way:</p><p><img src="/assets/img/go-to-flow.ada34306.png" alt></p><p>Otherwise, continue to no flow:</p><p><img src="/assets/img/no-flow.a29060ac.png" alt></p><p>It is possible to use a second &quot;go to&quot; here in order to take the user to a dedicated <strong>no flow</strong> block or send to a default block to restart the conversation.</p><h2 id="working-with-entities"><a href="#working-with-entities" aria-hidden="true" class="header-anchor">#</a> Working with Entities</h2><p>Entities help extract word(s) from an experession, group and label them to classify and define context.</p><p><img src="/assets/img/entities-flow.dfb07ddf.png" alt></p><p>Double tap a word in an expression to associate an entity with it.</p><p><img src="/assets/img/define-entities.c54891ad.png" alt></p><p>It possible to link same entity for differnet words. Like in the above example, we have asscociated &quot;food&quot; for &quot;tacos&quot; and &quot;guacamole&quot;</p><p>Entiteis defined in this way can be used as a user variable in a block, like based on selection, it is possible to send a user to a different block  using a 'go-to' based on an entity value.</p><p><img src="/assets/img/entity-check.7f734465.png" alt></p><p>An entity object can have various properties. A system entity or <em><strong>Star</strong></em> entity can have additional properties. For example, &quot;datetime&quot; can have properties to identify an weekend vs weekeday or time of the day when someone says:</p><blockquote><p>&quot;Hows the weather tomorrow?&quot;</p></blockquote><p>Here &quot;tomrorow&quot; will return an addtional date object to futher understand the intent of the user. In general, an entity can have at least the following properties but not limited to:</p><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>value</td><td>The word returned by the entity extractor for an expression.</td></tr><tr><td>confidence</td><td>The confidence level sent by the entity extractor</td></tr><tr><td>start</td><td>start index of the highlighted entity in an expression.</td></tr><tr><td>end</td><td>end index of the highlighted entity in an expression.</td></tr></tbody></table></div><div class="page-edit"><!----><div class="last-updated"><span class="prefix">Last Updated: </span><span class="time">9/23/2018, 10:46:48 AM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/chatbot-concepts.html" class="prev">
          Chatbot Concepts
        </a></span><span class="next"><a href="/publish.html">
          Publishing a Bot
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/7.73bc781b.js" defer></script><script src="/assets/js/app.b6aafca7.js" defer></script>
  </body>
</html>
