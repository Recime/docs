<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Handling Input Events | Smartloop</title>
    <meta name="description" content="A Conversational AI Platform to Automate Marketing">
    
    
    <link rel="preload" href="/assets/css/0.styles.33d1fe29.css" as="style"><link rel="preload" href="/assets/js/app.5433cc29.js" as="script"><link rel="preload" href="/assets/js/17.5c14c9aa.js" as="script"><link rel="prefetch" href="/assets/js/10.ace72010.js"><link rel="prefetch" href="/assets/js/11.2fd69cfb.js"><link rel="prefetch" href="/assets/js/12.7965e71f.js"><link rel="prefetch" href="/assets/js/13.127d8f9b.js"><link rel="prefetch" href="/assets/js/14.646a196f.js"><link rel="prefetch" href="/assets/js/15.1baa80d2.js"><link rel="prefetch" href="/assets/js/16.1379b3bf.js"><link rel="prefetch" href="/assets/js/18.cd0b6125.js"><link rel="prefetch" href="/assets/js/19.c70c2397.js"><link rel="prefetch" href="/assets/js/2.b62f77fc.js"><link rel="prefetch" href="/assets/js/20.decb3140.js"><link rel="prefetch" href="/assets/js/21.57bf9872.js"><link rel="prefetch" href="/assets/js/22.893a18bb.js"><link rel="prefetch" href="/assets/js/23.8f90831d.js"><link rel="prefetch" href="/assets/js/24.397febe6.js"><link rel="prefetch" href="/assets/js/25.7d450aea.js"><link rel="prefetch" href="/assets/js/3.d4e50b29.js"><link rel="prefetch" href="/assets/js/4.e50ec89d.js"><link rel="prefetch" href="/assets/js/5.81f1fae5.js"><link rel="prefetch" href="/assets/js/6.4d3d943e.js"><link rel="prefetch" href="/assets/js/7.08c01b69.js"><link rel="prefetch" href="/assets/js/8.1a9852bb.js"><link rel="prefetch" href="/assets/js/9.f29868e0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.33d1fe29.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Smartloop</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dashboard.smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.recime.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dashboard.smartloop.ai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://blog.recime.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/basic-concepts.html" class="sidebar-link">Basic Concepts</a></li><li><a href="/how-to-entities.html" class="sidebar-link">How to use Entities?</a></li><li><a href="/capturing-user-input.html" class="sidebar-link">Capturing User Input</a></li><li><a href="/collecting-user-data.html" class="sidebar-link">Collecting User Data</a></li><li><a href="/user-input-events.html" class="active sidebar-link">Handling Input Events</a></li><li><a href="/redirect-using-go-to.html" class="sidebar-link">Redirect using Go-to</a></li><li><a href="/json-api.html" class="sidebar-link">Integrations using JSON API</a></li><li><a href="/sending-email-notification.html" class="sidebar-link">Send Email Notification</a></li><li><a href="/campaign.html" class="sidebar-link">Creating a Drip Campaign</a></li><li><a href="/broadcasting.html" class="sidebar-link">Broadcasting</a></li><li><a href="/live-chat.html" class="sidebar-link">Live Chat</a></li><li><a href="/configure-website-bot.html" class="sidebar-link">WebChat Module</a></li><li><a href="/user-attributes.html" class="sidebar-link">User Attributes</a></li><li><a href="/developer-features.html" class="sidebar-link">Writing Custom Script</a></li><li><a href="/templates.html" class="sidebar-link">How to Create Templates?</a></li><li><a href="/capabilities.html" class="sidebar-link">Capabilities</a></li><li><a href="/resources.html" class="sidebar-link">Resources</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="handling-input-events"><a href="#handling-input-events" aria-hidden="true" class="header-anchor">#</a> Handling Input Events</h1> <div class="warning custom-block"><p class="custom-block-title">Viber Bots</p> <p>Input events are used by Viber bots to map various system events to a block.</p></div> <p>Link an input event (e.g. User downloads a sticker) to a block. Use this capability to handle and map an user event to a block.</p> <p>Navigate to <code>Settings -&gt; Events map</code> section.  Map an event to an existing block by selecting from the list as shown below:</p> <p><img src="/assets/img/user-input-events.0cf7135f.png" alt></p> <p>You can map the following events to a block in a <strong>Viber</strong> bot:</p> <table><thead><tr><th>Type</th> <th>Property</th> <th>Comments</th></tr></thead> <tbody><tr><td>conversation_started</td> <td>event</td> <td>when a user follows a Viber bot</td></tr> <tr><td>subscribed</td> <td>event</td> <td>Triggered when user sends first message after <code>conversation_started</code></td></tr> <tr><td>unsubscribed</td> <td>event</td> <td>When a user leaves the bot. Use this to remove user info, data, etc.</td></tr></tbody></table> <p>For example, if a subscriber sends an image on a facebook bot, it can set as an image place holder in the following way:</p> <p><img src="/assets/img/user-input-events-placeholder.ada87a91.png" alt></p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>A <a href="http://mustache.github.io/" target="_blank" rel="noopener noreferrer">mustache<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> template is a string that contains any number of mustache tags. Smartloop adopts this most popular template format to process variables. Tags are indicated by the double mustaches that surround them. Here, in the above example triple parenthesis tells the compiler not to encode the url.</p></div> <p>Event types can be combined with <code>JSON API</code>, <code>go-to</code> or <code>script</code> blocks to perform various operations from verifying document to serve location-aware contents to your subscribers.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//script block</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> done<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>args<span class="token punctuation">.</span>image<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/26/2019, 4:49:57 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/collecting-user-data.html" class="prev">
          Collecting User Data
        </a></span> <span class="next"><a href="/redirect-using-go-to.html">
          Redirect using Go-to
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/17.5c14c9aa.js" defer></script><script src="/assets/js/app.5433cc29.js" defer></script>
  </body>
</html>
